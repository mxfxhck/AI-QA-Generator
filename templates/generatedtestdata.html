{% extends 'layout.html' %}
{% block body %}
<div class="container py-5">
    <div class="text-center mb-4">
        <img src="{{ url_for('static', filename='online_test_undraw.png') }}" alt="Generated Questions Illustration" class="img-fluid mx-auto d-block" style="max-width: 800px;">
    </div>
    <div class="row justify-content-center">
        <div class="col-md-10">
            <div class="card border-light shadow-sm">
                <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                    <h2 class="h5 mb-0">Generated Questions & Answers</h2>
                    <i class="fas fa-sync-alt text-white" title="Refresh"></i>
                </div>
                <div class="table-responsive">
                    <table id="example" class="table table-striped table-hover align-items-center text-center">
                        <thead class="thead-light">
                            <tr>
                                <th>Question</th>
                                <th>Answer</th>
                                <th>Bloom's Level</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for qa in cresults %}
                            <tr>
                                <td>{{ qa[0] }}</td>
                                <td>{{ qa[1] }}</td>
                                <td>{{ qa[2] }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                <div class="card-footer text-center">
                    <p class="text-muted">Thank you for using AI Q&A Generator! Share your feedback with us.</p>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        $('#example').DataTable({
            dom: 'Bfrtip',
            buttons: [
                { extend: 'copy', className: 'btn btn-outline-primary btn-sm' },
                { extend: 'csv', className: 'btn btn-outline-primary btn-sm' },
                { extend: 'excel', className: 'btn btn-outline-primary btn-sm' },
                { extend: 'pdf', className: 'btn btn-outline-primary btn-sm' },
                { extend: 'print', className: 'btn btn-outline-primary btn-sm' }
            ],
            language: {
                search: "Search Questions:",
                lengthMenu: "Show _MENU_ entries",
            },
        });
    });
</script>
{% endblock %}
